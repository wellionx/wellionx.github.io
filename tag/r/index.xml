<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>R | Wei Li|李伟</title>
    <link>/tag/r/</link>
      <atom:link href="/tag/r/index.xml" rel="self" type="application/rss+xml" />
    <description>R</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><copyright>Wei Li ©2024 </copyright><lastBuildDate>Tue, 28 Sep 2021 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/images/icon_hu8fa43e4483d02e4bfdf294b3386ef244_148313_512x512_fill_lanczos_center_2.png</url>
      <title>R</title>
      <link>/tag/r/</link>
    </image>
    
    <item>
      <title>my first R package——ggwheat</title>
      <link>/post/my-first-r-package-ggwheat/</link>
      <pubDate>Tue, 28 Sep 2021 00:00:00 +0000</pubDate>
      <guid>/post/my-first-r-package-ggwheat/</guid>
      <description>&lt;p&gt;关于这个R包，早期也写过一篇介绍的文章，推送在小麦研究联盟的公众号上（&lt;a href=&#34;https://mp.weixin.qq.com/s/N8dmPifnM_0Xhpcjcjmn_A&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;一千零一技 | 我用R画了一株小麦&lt;/a&gt;）。&lt;/p&gt;
&lt;p&gt;当时仅仅是在我的电脑上实现了一个小麦植株器官的可视化功能。后来，有很多人对这个功能感兴趣。于是将这个功能写成R包的计划就提上日程。&lt;/p&gt;
&lt;p&gt;在介绍这个R包的功能之前，先简单回顾一下整个创作工程。&lt;/p&gt;
&lt;p&gt;我将其分为3个步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;素材准备与制作&lt;/li&gt;
&lt;li&gt;数据融合与功能优化&lt;/li&gt;
&lt;li&gt;R包开发&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;下面将逐一介绍各个步骤&lt;/p&gt;
&lt;h3 id=&#34;1-素材准备与制作&#34;&gt;1. 素材准备与制作&lt;/h3&gt;
&lt;p&gt;这个步骤应该是最难的，我觉得。&lt;/p&gt;
&lt;p&gt;最初有这个想法，是和本实验室的一本博士生讨论的时候萌生的。当时我们都觉的有必要用一种更简单和直观的方式展示数据。然而苦于没有合适的素材和展示方式，当时就将此事搁浅了。&lt;/p&gt;
&lt;p&gt;后来，一次偶然的机会。在搜集素材时找到一个小麦植株的矢量图。当时的素材时这个样子。
&lt;img src=&#34;src_selected.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;看到这张图的时候，我们一致认为，这就是要找的素材。&lt;/p&gt;
&lt;p&gt;找到素材之后，接下来就该考虑怎么使用了。&lt;/p&gt;
&lt;p&gt;我们的想法很简单，找一株最具有代表性的小麦植株，用来展示小麦各器官的。相对来说比较完整的，应该是开花到灌浆期间。这个期间整个植株的发育已经完成，而且穗也比较完全。所以最终选择了灌浆期的这株小麦素材。&lt;/p&gt;
&lt;p&gt;选好以后，我们就将素材直接放到PPT中做了试验。由于素材各器官是分开的，在PPT中作为形状独立存在。因此，不同器官的化学成分含量可以用该器官形状的颜色的展示。初步的效果如下图。
&lt;img src=&#34;wheat_plant_ver1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;然而，当我们耗时一个多小时将上面的图画完的时候，我们觉得如果小麦植株绘图如果以后要这样用的话，就太麻烦了。每次都需要手动注入数据信息，而且这个过程全凭感觉。&lt;/p&gt;
&lt;p&gt;这个时候，我想到了R。作为一款专业绘图的统计软件，R在可视化方面有着十分强大的功能。&lt;/p&gt;
&lt;p&gt;我们案例中，展示植株的形状，和地图的多边形有诸多相似之处。R语言中恰好有一款展示地图数据的R包&lt;code&gt;sf&lt;/code&gt;。这个R包不仅有展示地图的功能，还能自己制作地图。而地图制作中的其中一个元素，多边形，正是和我们做的小麦植株轮廓相似。&lt;/p&gt;
&lt;p&gt;于是接下来转战到用R包&lt;code&gt;sf&lt;/code&gt;进行小麦植株器官可视化。&lt;/p&gt;
&lt;p&gt;首选需要根据素材，制作出来小麦植株各器官的多边形轮廓。这个步骤在公众号文章（&lt;a href=&#34;https://mp.weixin.qq.com/s/N8dmPifnM_0Xhpcjcjmn_A&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;一千零一技 | 我用R画了一株小麦&lt;/a&gt;）有详细介绍，在此不再赘述。
&lt;img src=&#34;plotwehatinR.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;将图形组合成完整的植株，就可以在R里面就行操作了。&lt;/p&gt;
&lt;h3 id=&#34;2-数据融合与基础功能开发&#34;&gt;2. 数据融合与基础功能开发&lt;/h3&gt;
&lt;p&gt;先来看下例子。这个例子中，使用随机数为小麦植株9中器官做了赋值。通过图中颜色可以明显辨别不同器官的数值差异。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## Warning: package &#39;ggplot2&#39; was built under R version 4.4.0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/my-first-r-package-ggwheat/index_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;添加数据标签功能&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;然而，仅仅通过颜色的变化好像还不足以展示出器官间的不同。尤其是当某几个器官数据差异不大导致颜色无法分辨时。就有必要用具体的数据加以区分了。我们通过对每个器官添加标签的方式来实现。提前在器官上选取坐标作为标签在器官的位置。为了使显示的数值标签不遮挡，采用R包&lt;code&gt;ggrepel&lt;/code&gt;进行标签展示。具体结果如下图所示。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/my-first-r-package-ggwheat/index_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;添加不同调色板&lt;/strong&gt;
最初做颜色展示的时候，只考虑用颜色变异大的色彩。spectral色板成为了首选。当时当成品出来的时候，发现并不是那么好看。于是又挑选了其他几种色板，可以根据需要自行选择。比如，我要展示的氮含量的数据。这个数据植株绿色相关，我希望颜色越绿，表示的氮含量越高。而又希望对比色略微有些差异。那我就可以用YlGn色板。也就是图中第四个展示的。
&lt;img src=&#34;/post/my-first-r-package-ggwheat/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;展示时间尺度的变化&lt;/strong&gt;
上面讲到的仅仅是单株小麦在器官之间的空间变化。而我们实际试验过程中不仅仅取一次样品。如果多次取样，如何展示其时间变化呢。&lt;/p&gt;
&lt;p&gt;ggplot中的分面功能很好的解决了这个问题。下面这张图就是展示时空变化的小麦植株氮浓度(同头图)。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/my-first-r-package-ggwheat/index_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;1632&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;任意组合不同时间下的植株&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;展示开花期和成熟期的济麦22与农大399两个小麦品种，并且加上数值标签。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/my-first-r-package-ggwheat/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;960&#34; /&gt;
以上是品种济麦22&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/my-first-r-package-ggwheat/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;960&#34; /&gt;
以上是品种农大399&lt;/p&gt;
&lt;h3 id=&#34;3-开发r包&#34;&gt;3. 开发R包&lt;/h3&gt;
&lt;p&gt;有了以上的实施思想和实现过程，剩下的就是用R包开发的软件将这些函数打包。统计之都网站有一篇博客介绍了&lt;a href=&#34;https://cosx.org/2013/11/building-r-packages-easily&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;R包的建立方法&lt;/a&gt;。另外，也有一些开发R包的工具，包括&lt;code&gt;pkgdown&lt;/code&gt;等。&lt;/p&gt;
&lt;p&gt;R包开发的过程就是将各种函数写入打包调试的过程。
&lt;img src=&#34;R_pkg_dev.jpg&#34; alt=&#34;&#34;&gt;
目前已经创建好R包开发的项目，接下来就根据前面实现的功能将其转换成函数写入到R包中。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Visualization of history daily weather</title>
      <link>/post/visualization-of-history-daily-weather/</link>
      <pubDate>Fri, 18 Dec 2020 00:00:00 +0000</pubDate>
      <guid>/post/visualization-of-history-daily-weather/</guid>
      <description>&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/echarts/echarts-all.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/charts-ext/main.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/charts-ext/BMap.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/echarts-binding/echarts.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/echarts/echarts-all.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/charts-ext/main.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/charts-ext/BMap.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/echarts-binding/echarts.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/echarts/echarts-all.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/charts-ext/main.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/charts-ext/BMap.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/echarts-binding/echarts.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/echarts/echarts-all.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/charts-ext/main.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/charts-ext/BMap.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/post/visualization-of-history-daily-weather/index_files/echarts-binding/echarts.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;最近在整理收集的气象数据，想着能否找一种可视化的方式展示出来，便于从中提取有效信息。于是想到了之前用的&lt;code&gt;recharts&lt;/code&gt;, 这款由谢益辉大神开发的R包有着非常详细的使用说明，参数调整非常方便。早先用它做过一些数据展示，现在重新拾起，越发觉得这款R包的强大。&lt;/p&gt;
&lt;p&gt;下面仅展示用这些数据得到的图，有机会再详细将如何使用&lt;/p&gt;
&lt;p&gt;这是30年平均气温的展示&lt;/p&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:100%;height:480px;&#34; class=&#34;echarts html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;series&#34;:[{&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[10.33825136612022,10.78575342465753,11.29780821917808,11.54301369863014,10.17978142076503,10.07287671232877,10.52849315068493,10.58246575342466,10.89344262295082,11.48657534246575,11.25452054794521,10.75013698630137,10.96475409836066,11.01205479452055,11.84602739726027,11.38301369863014,10.80846994535519,11.6627397260274,12.07890410958904,11.91753424657534,11.57267759562841,11.69890410958904,11.98904109589041,11.77972602739726,11.76448087431694,11.31123287671233,11.88931506849315,12.36684931506849,11.47486338797814,11.53972602739726,10.73616438356164,11.55041095890411,10.674043715847,10.82849315068493,12.12739726027397,11.91397260273973,11.89918032786885,12.23561643835616,11.65671232876712,12.0654794520548,&#34;-&#34;],&#34;showAllSymbol&#34;:true}],&#34;yAxis&#34;:[{&#34;type&#34;:&#34;value&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;left&#34;,&#34;name&#34;:&#34;气温&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;show&#34;:true,&#34;onZero&#34;:false},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;show&#34;:true,&#34;formatter&#34;:&#34;{value} °C&#34;},&#34;splitLine&#34;:{&#34;show&#34;:true},&#34;splitArea&#34;:{&#34;show&#34;:false}}],&#34;xAxis&#34;:[{&#34;type&#34;:&#34;category&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;bottom&#34;,&#34;name&#34;:&#34;年份&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;show&#34;:true,&#34;onZero&#34;:false},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;show&#34;:true,&#34;formatter&#34;:&#34;function (x) {return x;}&#34;},&#34;splitLine&#34;:{&#34;show&#34;:false},&#34;splitArea&#34;:{&#34;show&#34;:false},&#34;data&#34;:[&#34;1980&#34;,&#34;1981&#34;,&#34;1982&#34;,&#34;1983&#34;,&#34;1984&#34;,&#34;1985&#34;,&#34;1986&#34;,&#34;1987&#34;,&#34;1988&#34;,&#34;1989&#34;,&#34;1990&#34;,&#34;1991&#34;,&#34;1992&#34;,&#34;1993&#34;,&#34;1994&#34;,&#34;1995&#34;,&#34;1996&#34;,&#34;1997&#34;,&#34;1998&#34;,&#34;1999&#34;,&#34;2000&#34;,&#34;2001&#34;,&#34;2002&#34;,&#34;2003&#34;,&#34;2004&#34;,&#34;2005&#34;,&#34;2006&#34;,&#34;2007&#34;,&#34;2008&#34;,&#34;2009&#34;,&#34;2010&#34;,&#34;2011&#34;,&#34;2012&#34;,&#34;2013&#34;,&#34;2014&#34;,&#34;2015&#34;,&#34;2016&#34;,&#34;2017&#34;,&#34;2018&#34;,&#34;2019&#34;,&#34;2020&#34;]}],&#34;tooltip&#34;:{&#34;show&#34;:true,&#34;trigger&#34;:&#34;axis&#34;,&#34;axisPointer&#34;:{&#34;type&#34;:&#34;line&#34;,&#34;crossStyle&#34;:{&#34;type&#34;:&#34;dashed&#34;},&#34;lineStyle&#34;:{&#34;type&#34;:&#34;solid&#34;,&#34;width&#34;:1},&#34;shadowStyle&#34;:{&#34;color&#34;:&#34;rgba(150,150,150,0.3)&#34;,&#34;width&#34;:&#34;auto&#34;,&#34;type&#34;:&#34;default&#34;}},&#34;textStyle&#34;:{&#34;color&#34;:&#34;#fff&#34;},&#34;formatter&#34;:&#34;function (params) {\n       var i;\n       var j;\n       var text;\n       var text1;\n       var sName = \&#34;\&#34;;\n       if (params.length &gt; 1){\n            if (params[0].value.length &gt;1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       } else {\n            if (params[0].value.length &gt; 1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       }\n       if (params.length &gt; 1){\n           text += \&#34;&lt;br/&gt;\&#34; + params[0].seriesName + \&#34; :  \&#34; + text1;\n           if (params[0].value.length &gt; 1){\n                for (j = 1; j &lt; params[0].value.length; j++){\n                    text += \&#34;, \&#34; + params[0].value[j];\n                }\n           }\n           for (i = 1; i &lt; params.length; i++) {\n                if (params[i].value.length &gt; 1){\n                   text += \&#34;&lt;br/&gt;\&#34; + params[i].seriesName + \&#34; :  \&#34;\n                        + params[i].value[0];\n                   for (j = 1; j &lt; params[i].value.length; j++){\n                        text += \&#34;, \&#34; + params[i].value[j];\n                   }\n                } else {\n                   text += \&#34;&lt;br/&gt;\&#34; + params[i].seriesName + \&#34; :  \&#34;\n                        + params[i].value;\n                }\n           }\n       } else {\n           if (params[0].seriesName){\n               text += \&#34;&lt;br/&gt;\&#34; + params[0].seriesName + \&#34; :  \&#34; + text1;\n           } else {\n               text += \&#34; :  \&#34; + text1;\n           }\n           if (params[0].value.length &gt; 1){\n                for (j = 1; j &lt; params[0].value.length; j++){\n                    text += \&#34;, \&#34; + params[0].value[j];\n                }\n           }\n       }\n       return text;\n    }&#34;,&#34;islandFormatter&#34;:&#34;{a} &lt; br/&gt;{b} : {c}&#34;,&#34;enterable&#34;:false,&#34;showDelay&#34;:20,&#34;hideDelay&#34;:100,&#34;transitionDuration&#34;:0.4,&#34;backgroundColor&#34;:&#34;rgba(0,0,0,0.7)&#34;,&#34;borderColor&#34;:&#34;#333&#34;,&#34;borderWidth&#34;:0,&#34;borderRadius&#34;:4},&#34;toolbox&#34;:{&#34;show&#34;:true,&#34;feature&#34;:{&#34;mark&#34;:{&#34;show&#34;:true},&#34;dataZoom&#34;:{&#34;show&#34;:true},&#34;dataView&#34;:{&#34;show&#34;:true,&#34;readOnly&#34;:false},&#34;magicType&#34;:{&#34;show&#34;:true,&#34;type&#34;:[&#34;line&#34;,&#34;bar&#34;,&#34;tiled&#34;,&#34;stack&#34;]},&#34;restore&#34;:{&#34;show&#34;:true},&#34;saveAsImage&#34;:{&#34;show&#34;:true}},&#34;x&#34;:&#34;right&#34;,&#34;y&#34;:&#34;center&#34;,&#34;orient&#34;:&#34;vertical&#34;},&#34;legend&#34;:{&#34;show&#34;:true,&#34;data&#34;:[],&#34;x&#34;:&#34;left&#34;,&#34;y&#34;:&#34;top&#34;,&#34;orient&#34;:&#34;horizontal&#34;,&#34;selectedMode&#34;:&#34;multiple&#34;},&#34;title&#34;:{&#34;text&#34;:&#34;顺义地区40年年度平均温度分析&#34;,&#34;x&#34;:&#34;center&#34;,&#34;y&#34;:&#34;bottom&#34;,&#34;orient&#34;:&#34;horizontal&#34;},&#34;theme&#34;:{&#34;backgroundColor&#34;:[&#34;#d5e4eb&#34;],&#34;grid&#34;:{&#34;borderWidth&#34;:[0]},&#34;categoryAxis&#34;:{&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[2]}},&#34;splitLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[1],&#34;color&#34;:[&#34;white&#34;]}}},&#34;valueAxis&#34;:{&#34;splitLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[1],&#34;color&#34;:[&#34;white&#34;]}},&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[0]}}},&#34;5&#34;:{&#34;fontSize&#34;:[18]}},&#34;dataZoom&#34;:{&#34;show&#34;:true,&#34;x&#34;:80,&#34;y&#34;:0,&#34;orient&#34;:&#34;horizontal&#34;,&#34;height&#34;:30}},&#34;evals&#34;:[&#34;xAxis.0.axisLabel.formatter&#34;,&#34;tooltip.formatter&#34;],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;接下来是年度总降水量&lt;/p&gt;
&lt;div id=&#34;htmlwidget-2&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;echarts html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-2&#34;&gt;{&#34;x&#34;:{&#34;series&#34;:[{&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[352.9,479.3,710.9,481.5,577.7,872.9,717.6,770.2,622,566.2,856.4,923.8,587.7,454.8,892.8000000000001,623.3,854.3,555.7,646.5,389.1,376.8,656.4,523.6,522,681.8,574.6,579.7,584.7,654.8,564.5,536.4,581.9,856.6,589.4,561.6,619.7,693.8,720.8,664.9,588.4,554.2]}],&#34;yAxis&#34;:[{&#34;type&#34;:&#34;value&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;left&#34;,&#34;name&#34;:&#34;降雨量&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;show&#34;:true,&#34;onZero&#34;:false},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;show&#34;:true,&#34;formatter&#34;:&#34;function(x){return &#39;&#39; + x.toFixed(0) + &#39; mm&#39;;}&#34;},&#34;splitLine&#34;:{&#34;show&#34;:true},&#34;splitArea&#34;:{&#34;show&#34;:false}}],&#34;xAxis&#34;:[{&#34;type&#34;:&#34;category&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;bottom&#34;,&#34;name&#34;:&#34;年份&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;show&#34;:true,&#34;onZero&#34;:false},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;show&#34;:true,&#34;formatter&#34;:&#34;function (x) {return x;}&#34;},&#34;splitLine&#34;:{&#34;show&#34;:false},&#34;splitArea&#34;:{&#34;show&#34;:false},&#34;data&#34;:[&#34;1980&#34;,&#34;1981&#34;,&#34;1982&#34;,&#34;1983&#34;,&#34;1984&#34;,&#34;1985&#34;,&#34;1986&#34;,&#34;1987&#34;,&#34;1988&#34;,&#34;1989&#34;,&#34;1990&#34;,&#34;1991&#34;,&#34;1992&#34;,&#34;1993&#34;,&#34;1994&#34;,&#34;1995&#34;,&#34;1996&#34;,&#34;1997&#34;,&#34;1998&#34;,&#34;1999&#34;,&#34;2000&#34;,&#34;2001&#34;,&#34;2002&#34;,&#34;2003&#34;,&#34;2004&#34;,&#34;2005&#34;,&#34;2006&#34;,&#34;2007&#34;,&#34;2008&#34;,&#34;2009&#34;,&#34;2010&#34;,&#34;2011&#34;,&#34;2012&#34;,&#34;2013&#34;,&#34;2014&#34;,&#34;2015&#34;,&#34;2016&#34;,&#34;2017&#34;,&#34;2018&#34;,&#34;2019&#34;,&#34;2020&#34;]}],&#34;tooltip&#34;:{&#34;show&#34;:true,&#34;trigger&#34;:&#34;axis&#34;,&#34;axisPointer&#34;:{&#34;type&#34;:&#34;shadow&#34;,&#34;crossStyle&#34;:{&#34;type&#34;:&#34;dashed&#34;},&#34;lineStyle&#34;:{&#34;type&#34;:&#34;solid&#34;,&#34;width&#34;:1},&#34;shadowStyle&#34;:{&#34;color&#34;:&#34;rgba(150,150,150,0.3)&#34;,&#34;width&#34;:&#34;auto&#34;,&#34;type&#34;:&#34;default&#34;}},&#34;textStyle&#34;:{&#34;color&#34;:&#34;#fff&#34;},&#34;formatter&#34;:&#34;function (params) {\n       var i;\n       var j;\n       var text;\n       var text1;\n       var sName = \&#34;\&#34;;\n       if (params.length &gt; 1){\n            if (params[0].value.length &gt;1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       } else {\n            if (params[0].value.length &gt; 1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       }\n       if (params.length &gt; 1){\n           text += \&#34;&lt;br/&gt;\&#34; + params[0].seriesName + \&#34; :  \&#34; + text1;\n           if (params[0].value.length &gt; 1){\n                for (j = 1; j &lt; params[0].value.length; j++){\n                    text += \&#34;, \&#34; + params[0].value[j];\n                }\n           }\n           for (i = 1; i &lt; params.length; i++) {\n                if (params[i].value.length &gt; 1){\n                   text += \&#34;&lt;br/&gt;\&#34; + params[i].seriesName + \&#34; :  \&#34;\n                        + params[i].value[0];\n                   for (j = 1; j &lt; params[i].value.length; j++){\n                        text += \&#34;, \&#34; + params[i].value[j];\n                   }\n                } else {\n                   text += \&#34;&lt;br/&gt;\&#34; + params[i].seriesName + \&#34; :  \&#34;\n                        + params[i].value;\n                }\n           }\n       } else {\n           if (params[0].seriesName){\n               text += \&#34;&lt;br/&gt;\&#34; + params[0].seriesName + \&#34; :  \&#34; + text1;\n           } else {\n               text += \&#34; :  \&#34; + text1;\n           }\n           if (params[0].value.length &gt; 1){\n                for (j = 1; j &lt; params[0].value.length; j++){\n                    text += \&#34;, \&#34; + params[0].value[j];\n                }\n           }\n       }\n       return text;\n    }&#34;,&#34;islandFormatter&#34;:&#34;{a} &lt; br/&gt;{b} : {c}&#34;,&#34;enterable&#34;:false,&#34;showDelay&#34;:20,&#34;hideDelay&#34;:100,&#34;transitionDuration&#34;:0.4,&#34;backgroundColor&#34;:&#34;rgba(0,0,0,0.7)&#34;,&#34;borderColor&#34;:&#34;#333&#34;,&#34;borderWidth&#34;:0,&#34;borderRadius&#34;:4},&#34;toolbox&#34;:{&#34;show&#34;:true,&#34;feature&#34;:{&#34;mark&#34;:{&#34;show&#34;:true},&#34;dataZoom&#34;:{&#34;show&#34;:true},&#34;dataView&#34;:{&#34;show&#34;:true,&#34;readOnly&#34;:false},&#34;magicType&#34;:{&#34;show&#34;:true,&#34;type&#34;:[&#34;line&#34;,&#34;bar&#34;,&#34;tiled&#34;,&#34;stack&#34;]},&#34;restore&#34;:{&#34;show&#34;:true},&#34;saveAsImage&#34;:{&#34;show&#34;:true}},&#34;x&#34;:&#34;right&#34;,&#34;y&#34;:&#34;center&#34;,&#34;orient&#34;:&#34;vertical&#34;},&#34;legend&#34;:{&#34;show&#34;:true,&#34;data&#34;:[],&#34;x&#34;:&#34;left&#34;,&#34;y&#34;:&#34;top&#34;,&#34;orient&#34;:&#34;horizontal&#34;,&#34;selectedMode&#34;:&#34;multiple&#34;},&#34;title&#34;:{&#34;text&#34;:&#34;顺义地区40年年度降水分析&#34;,&#34;x&#34;:&#34;center&#34;,&#34;y&#34;:&#34;bottom&#34;,&#34;orient&#34;:&#34;horizontal&#34;},&#34;theme&#34;:{&#34;backgroundColor&#34;:[&#34;#d5e4eb&#34;],&#34;grid&#34;:{&#34;borderWidth&#34;:[0]},&#34;categoryAxis&#34;:{&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[2]}},&#34;splitLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[1],&#34;color&#34;:[&#34;white&#34;]}}},&#34;valueAxis&#34;:{&#34;splitLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[1],&#34;color&#34;:[&#34;white&#34;]}},&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[0]}}},&#34;5&#34;:{&#34;fontSize&#34;:[18]}},&#34;dataZoom&#34;:{&#34;show&#34;:true,&#34;x&#34;:80,&#34;y&#34;:0,&#34;orient&#34;:&#34;horizontal&#34;,&#34;height&#34;:30}},&#34;evals&#34;:[&#34;yAxis.0.axisLabel.formatter&#34;,&#34;xAxis.0.axisLabel.formatter&#34;,&#34;tooltip.formatter&#34;],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;年度降水和平均气温整合&lt;/p&gt;
&lt;div id=&#34;htmlwidget-3&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;echarts html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-3&#34;&gt;{&#34;x&#34;:{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[352.9,479.3,710.9,481.5,577.7,872.9,717.6,770.2,622,566.2,856.4,923.8,587.7,454.8,892.8000000000001,623.3,854.3,555.7,646.5,389.1,376.8,656.4,523.6,522,681.8,574.6,579.7,584.7,654.8,564.5,536.4,581.9,856.6,589.4,561.6,619.7,693.8,720.8,664.9,588.4,554.2]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[10.33825136612022,10.78575342465753,11.29780821917808,11.54301369863014,10.17978142076503,10.07287671232877,10.52849315068493,10.58246575342466,10.89344262295082,11.48657534246575,11.25452054794521,10.75013698630137,10.96475409836066,11.01205479452055,11.84602739726027,11.38301369863014,10.80846994535519,11.6627397260274,12.07890410958904,11.91753424657534,11.57267759562841,11.69890410958904,11.98904109589041,11.77972602739726,11.76448087431694,11.31123287671233,11.88931506849315,12.36684931506849,11.47486338797814,11.53972602739726,10.73616438356164,11.55041095890411,10.674043715847,10.82849315068493,12.12739726027397,11.91397260273973,11.89918032786885,12.23561643835616,11.65671232876712,12.0654794520548,&#34;-&#34;],&#34;yAxisIndex&#34;:1}],&#34;legend&#34;:{&#34;show&#34;:true,&#34;data&#34;:[&#34;Rainfs&#34;,&#34;mTEM&#34;],&#34;x&#34;:&#34;center&#34;,&#34;y&#34;:&#34;top&#34;,&#34;orient&#34;:&#34;horizontal&#34;,&#34;selectedMode&#34;:&#34;multiple&#34;},&#34;yAxis&#34;:[{&#34;type&#34;:&#34;value&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;left&#34;,&#34;name&#34;:&#34;降雨量&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;show&#34;:true,&#34;onZero&#34;:false,&#34;lineStyle&#34;:{&#34;width&#34;:0}},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;show&#34;:true,&#34;formatter&#34;:&#34;function(x){return &#39;&#39; + x.toFixed(1) + &#39; mm&#39;;}&#34;},&#34;splitLine&#34;:{&#34;show&#34;:true},&#34;splitArea&#34;:{&#34;show&#34;:false},&#34;min&#34;:0,&#34;max&#34;:1000},{&#34;type&#34;:&#34;value&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;right&#34;,&#34;name&#34;:&#34;平均气温&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;min&#34;:0,&#34;max&#34;:13,&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:0}},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;formatter&#34;:&#34;function(x){return &#39;&#39; + x.toFixed(1) + &#39; °C&#39;;}&#34;},&#34;splitLine&#34;:{&#34;show&#34;:true},&#34;splitArea&#34;:{&#34;show&#34;:false}}],&#34;xAxis&#34;:[{&#34;type&#34;:&#34;category&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;bottom&#34;,&#34;name&#34;:&#34;年份&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;show&#34;:true,&#34;onZero&#34;:false,&#34;lineStyle&#34;:{&#34;color&#34;:&#34;darkgray&#34;}},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;show&#34;:true},&#34;splitLine&#34;:{&#34;show&#34;:false},&#34;splitArea&#34;:{&#34;show&#34;:false},&#34;data&#34;:[&#34;1980&#34;,&#34;1981&#34;,&#34;1982&#34;,&#34;1983&#34;,&#34;1984&#34;,&#34;1985&#34;,&#34;1986&#34;,&#34;1987&#34;,&#34;1988&#34;,&#34;1989&#34;,&#34;1990&#34;,&#34;1991&#34;,&#34;1992&#34;,&#34;1993&#34;,&#34;1994&#34;,&#34;1995&#34;,&#34;1996&#34;,&#34;1997&#34;,&#34;1998&#34;,&#34;1999&#34;,&#34;2000&#34;,&#34;2001&#34;,&#34;2002&#34;,&#34;2003&#34;,&#34;2004&#34;,&#34;2005&#34;,&#34;2006&#34;,&#34;2007&#34;,&#34;2008&#34;,&#34;2009&#34;,&#34;2010&#34;,&#34;2011&#34;,&#34;2012&#34;,&#34;2013&#34;,&#34;2014&#34;,&#34;2015&#34;,&#34;2016&#34;,&#34;2017&#34;,&#34;2018&#34;,&#34;2019&#34;,&#34;2020&#34;]}],&#34;tooltip&#34;:{&#34;show&#34;:true,&#34;trigger&#34;:&#34;axis&#34;,&#34;axisPointer&#34;:{&#34;type&#34;:&#34;shadow&#34;,&#34;crossStyle&#34;:{&#34;type&#34;:&#34;dashed&#34;},&#34;lineStyle&#34;:{&#34;type&#34;:&#34;solid&#34;,&#34;width&#34;:1},&#34;shadowStyle&#34;:{&#34;color&#34;:&#34;rgba(150,150,150,0.3)&#34;,&#34;width&#34;:&#34;auto&#34;,&#34;type&#34;:&#34;default&#34;}},&#34;textStyle&#34;:{&#34;color&#34;:&#34;#fff&#34;},&#34;formatter&#34;:&#34;function (params) {\n       var i;\n       var j;\n       var text;\n       var text1;\n       var sName = \&#34;\&#34;;\n       if (params.length &gt; 1){\n            if (params[0].value.length &gt;1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       } else {\n            if (params[0].value.length &gt; 1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       }\n       if (params.length &gt; 1){\n           text += \&#34;&lt;br/&gt;\&#34; + params[0].seriesName + \&#34; :  \&#34; + text1;\n           if (params[0].value.length &gt; 1){\n                for (j = 1; j &lt; params[0].value.length; j++){\n                    text += \&#34;, \&#34; + params[0].value[j];\n                }\n           }\n           for (i = 1; i &lt; params.length; i++) {\n                if (params[i].value.length &gt; 1){\n                   text += \&#34;&lt;br/&gt;\&#34; + params[i].seriesName + \&#34; :  \&#34;\n                        + params[i].value[0];\n                   for (j = 1; j &lt; params[i].value.length; j++){\n                        text += \&#34;, \&#34; + params[i].value[j];\n                   }\n                } else {\n                   text += \&#34;&lt;br/&gt;\&#34; + params[i].seriesName + \&#34; :  \&#34;\n                        + params[i].value;\n                }\n           }\n       } else {\n           if (params[0].seriesName){\n               text += \&#34;&lt;br/&gt;\&#34; + params[0].seriesName + \&#34; :  \&#34; + text1;\n           } else {\n               text += \&#34; :  \&#34; + text1;\n           }\n           if (params[0].value.length &gt; 1){\n                for (j = 1; j &lt; params[0].value.length; j++){\n                    text += \&#34;, \&#34; + params[0].value[j];\n                }\n           }\n       }\n       return text;\n    }&#34;,&#34;islandFormatter&#34;:&#34;{a} &lt; br/&gt;{b} : {c}&#34;,&#34;enterable&#34;:false,&#34;showDelay&#34;:20,&#34;hideDelay&#34;:100,&#34;transitionDuration&#34;:0.4,&#34;backgroundColor&#34;:&#34;rgba(0,0,0,0.7)&#34;,&#34;borderColor&#34;:&#34;#333&#34;,&#34;borderWidth&#34;:0,&#34;borderRadius&#34;:4},&#34;toolbox&#34;:{&#34;show&#34;:true,&#34;feature&#34;:{&#34;mark&#34;:{&#34;show&#34;:true},&#34;dataZoom&#34;:{&#34;show&#34;:true},&#34;dataView&#34;:{&#34;show&#34;:true,&#34;readOnly&#34;:false},&#34;magicType&#34;:{&#34;show&#34;:true,&#34;type&#34;:[&#34;line&#34;,&#34;bar&#34;,&#34;tiled&#34;,&#34;stack&#34;]},&#34;restore&#34;:{&#34;show&#34;:true},&#34;saveAsImage&#34;:{&#34;show&#34;:true}},&#34;x&#34;:&#34;right&#34;,&#34;y&#34;:&#34;center&#34;,&#34;orient&#34;:&#34;vertical&#34;},&#34;grid&#34;:{&#34;y&#34;:110},&#34;theme&#34;:{&#34;backgroundColor&#34;:[&#34;#d5e4eb&#34;],&#34;grid&#34;:{&#34;borderWidth&#34;:[0]},&#34;categoryAxis&#34;:{&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[2]}},&#34;splitLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[1],&#34;color&#34;:[&#34;white&#34;]}}},&#34;valueAxis&#34;:{&#34;splitLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[1],&#34;color&#34;:[&#34;white&#34;]}},&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[0]}}},&#34;5&#34;:{&#34;fontSize&#34;:[18]}},&#34;dataZoom&#34;:{&#34;show&#34;:true,&#34;x&#34;:80,&#34;y&#34;:50,&#34;orient&#34;:&#34;horizontal&#34;,&#34;height&#34;:30}},&#34;evals&#34;:[&#34;yAxis.0.axisLabel.formatter&#34;,&#34;yAxis.1.axisLabel.formatter&#34;,&#34;tooltip.formatter&#34;],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;月度降水和平均气温整合&lt;/p&gt;
&lt;div id=&#34;htmlwidget-4&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;echarts html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-4&#34;&gt;{&#34;x&#34;:{&#34;timeline&#34;:{&#34;type&#34;:&#34;number&#34;,&#34;data&#34;:[1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],&#34;x&#34;:80,&#34;x2&#34;:80},&#34;options&#34;:[{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0.5,10.8,15,24.8,18.2,121.9,16.4,64.7,52.9,24.6,0.2,2.9]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-6.72258064516129,-4.513793103448275,3.619354838709677,9.916666666666666,19.16129032258064,24.01,26.22903225806452,23.73225806451613,17.67,11.14193548387097,5.05,-5.7],&#34;yAxisIndex&#34;:1}],&#34;legend&#34;:{&#34;show&#34;:true,&#34;data&#34;:[&#34;Rainfs&#34;,&#34;mTEM&#34;],&#34;x&#34;:&#34;center&#34;,&#34;y&#34;:&#34;top&#34;,&#34;orient&#34;:&#34;horizontal&#34;,&#34;selectedMode&#34;:&#34;multiple&#34;},&#34;yAxis&#34;:[{&#34;type&#34;:&#34;value&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;left&#34;,&#34;name&#34;:&#34;降雨量&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;show&#34;:true,&#34;onZero&#34;:false,&#34;lineStyle&#34;:{&#34;width&#34;:0}},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;show&#34;:true,&#34;formatter&#34;:&#34;function(x){return &#39;&#39; + x.toFixed(1) + &#39; mm&#39;;}&#34;},&#34;splitLine&#34;:{&#34;show&#34;:true},&#34;splitArea&#34;:{&#34;show&#34;:false},&#34;min&#34;:0},{&#34;type&#34;:&#34;value&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;right&#34;,&#34;name&#34;:&#34;平均气温&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;min&#34;:-10,&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:0}},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;formatter&#34;:&#34;function(x){return &#39;&#39; + x.toFixed(1) + &#39; °C&#39;;}&#34;},&#34;splitLine&#34;:{&#34;show&#34;:true},&#34;splitArea&#34;:{&#34;show&#34;:false}}],&#34;xAxis&#34;:[{&#34;type&#34;:&#34;category&#34;,&#34;show&#34;:true,&#34;position&#34;:&#34;bottom&#34;,&#34;name&#34;:&#34;月份&#34;,&#34;nameLocation&#34;:&#34;end&#34;,&#34;boundaryGap&#34;:[0,0],&#34;scale&#34;:true,&#34;axisLine&#34;:{&#34;show&#34;:true,&#34;onZero&#34;:false,&#34;lineStyle&#34;:{&#34;color&#34;:&#34;darkgray&#34;}},&#34;axisTick&#34;:{&#34;show&#34;:false},&#34;axisLabel&#34;:{&#34;show&#34;:true},&#34;splitLine&#34;:{&#34;show&#34;:false},&#34;splitArea&#34;:{&#34;show&#34;:false},&#34;data&#34;:[&#34;1&#34;,&#34;2&#34;,&#34;3&#34;,&#34;4&#34;,&#34;5&#34;,&#34;6&#34;,&#34;7&#34;,&#34;8&#34;,&#34;9&#34;,&#34;10&#34;,&#34;11&#34;,&#34;12&#34;]}],&#34;tooltip&#34;:{&#34;show&#34;:true,&#34;trigger&#34;:&#34;axis&#34;,&#34;axisPointer&#34;:{&#34;type&#34;:&#34;shadow&#34;,&#34;crossStyle&#34;:{&#34;type&#34;:&#34;dashed&#34;},&#34;lineStyle&#34;:{&#34;type&#34;:&#34;solid&#34;,&#34;width&#34;:1},&#34;shadowStyle&#34;:{&#34;color&#34;:&#34;rgba(150,150,150,0.3)&#34;,&#34;width&#34;:&#34;auto&#34;,&#34;type&#34;:&#34;default&#34;}},&#34;textStyle&#34;:{&#34;color&#34;:&#34;#fff&#34;},&#34;formatter&#34;:&#34;function (params) {\n       var i;\n       var j;\n       var text;\n       var text1;\n       var sName = \&#34;\&#34;;\n       if (params.length &gt; 1){\n            if (params[0].value.length &gt;1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       } else {\n            if (params[0].value.length &gt; 1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       }\n       if (params.length &gt; 1){\n           text += \&#34;&lt;br/&gt;\&#34; + params[0].seriesName + \&#34; :  \&#34; + text1;\n           if (params[0].value.length &gt; 1){\n                for (j = 1; j &lt; params[0].value.length; j++){\n                    text += \&#34;, \&#34; + params[0].value[j];\n                }\n           }\n           for (i = 1; i &lt; params.length; i++) {\n                if (params[i].value.length &gt; 1){\n                   text += \&#34;&lt;br/&gt;\&#34; + params[i].seriesName + \&#34; :  \&#34;\n                        + params[i].value[0];\n                   for (j = 1; j &lt; params[i].value.length; j++){\n                        text += \&#34;, \&#34; + params[i].value[j];\n                   }\n                } else {\n                   text += \&#34;&lt;br/&gt;\&#34; + params[i].seriesName + \&#34; :  \&#34;\n                        + params[i].value;\n                }\n           }\n       } else {\n           if (params[0].seriesName){\n               text += \&#34;&lt;br/&gt;\&#34; + params[0].seriesName + \&#34; :  \&#34; + text1;\n           } else {\n               text += \&#34; :  \&#34; + text1;\n           }\n           if (params[0].value.length &gt; 1){\n                for (j = 1; j &lt; params[0].value.length; j++){\n                    text += \&#34;, \&#34; + params[0].value[j];\n                }\n           }\n       }\n       return text;\n    }&#34;,&#34;islandFormatter&#34;:&#34;{a} &lt; br/&gt;{b} : {c}&#34;,&#34;enterable&#34;:false,&#34;showDelay&#34;:20,&#34;hideDelay&#34;:100,&#34;transitionDuration&#34;:0.4,&#34;backgroundColor&#34;:&#34;rgba(0,0,0,0.7)&#34;,&#34;borderColor&#34;:&#34;#333&#34;,&#34;borderWidth&#34;:0,&#34;borderRadius&#34;:4},&#34;toolbox&#34;:{&#34;show&#34;:true,&#34;feature&#34;:{&#34;mark&#34;:{&#34;show&#34;:true},&#34;dataZoom&#34;:{&#34;show&#34;:true},&#34;dataView&#34;:{&#34;show&#34;:true,&#34;readOnly&#34;:false},&#34;magicType&#34;:{&#34;show&#34;:true,&#34;type&#34;:[&#34;line&#34;,&#34;bar&#34;,&#34;tiled&#34;,&#34;stack&#34;]},&#34;restore&#34;:{&#34;show&#34;:true},&#34;saveAsImage&#34;:{&#34;show&#34;:true}},&#34;x&#34;:&#34;right&#34;,&#34;y&#34;:&#34;center&#34;,&#34;orient&#34;:&#34;vertical&#34;},&#34;grid&#34;:{&#34;y&#34;:110},&#34;dataZoom&#34;:{&#34;show&#34;:true,&#34;x&#34;:80,&#34;y&#34;:50,&#34;orient&#34;:&#34;horizontal&#34;,&#34;height&#34;:30}},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[1.1,8.4,4.3,13.3,25.9,55.6,160.7,123.6,54.6,15.9,10.9,5]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-6.974193548387097,-3.85,5.870967741935484,14.55333333333333,18.87096774193548,24.29666666666667,26.94516129032258,23.76774193548387,19.16333333333333,10.04193548387097,0.48,-4.658064516129032]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[3.1,4.3,1.1,10.6,14.5,166.8,222.1,248,6.3,27.6,6.5,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-7.474193548387097,-1.621428571428571,5.5,14.65,19.97096774193549,23.05,24.36451612903226,24.79032258064516,18.73,13.74838709677419,3.363333333333333,-4.27741935483871]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,0.4,8.5,57.5,38.6,56.2,86.5,171.6,43.7,14.8,3.7,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.258064516129032,-4.435714285714286,5.283870967741936,13.58333333333333,20.12258064516129,24.46333333333333,26.17741935483871,24.23225806451613,20.56,12.20322580645161,3.823333333333333,-3.261290322580645]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,0.7,1,24.6,5.8,76.2,167.4,229,47,9.5,13.6,2.9]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-7.996774193548387,-5.310344827586207,1.958064516129032,12.24333333333333,19.7483870967742,23.78333333333333,25.33548387096774,24.29032258064516,18.30666666666666,11.81935483870968,3.213333333333333,-5.690322580645161]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0.6,9.199999999999999,11.5,11.3,73.3,70.8,277.3,350.5,41.6,2.7,23.4,0.7]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-7.609677419354838,-4.160714285714286,1.719354838709678,13.41333333333333,18.42258064516129,23.12666666666667,24.65806451612903,24.15806451612903,17.64,12.64516129032258,1.936666666666667,-5.941935483870968]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,6.2,4.7,0.8,22.8,152.2,294.7,96,116.3,13.7,7.3,2.9]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-6.819354838709677,-4.103571428571429,5.209677419354839,13.64666666666667,19.76129032258065,24.22333333333333,24.18709677419355,23.30967741935484,18.54,10.15161290322581,1.076666666666667,-3.761290322580645]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[6.8,2.5,30.1,33.3,59.3,99.5,143,305.8,61.2,2.4,25.6,0.7]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-7.109677419354838,-2.221428571428572,2.232258064516129,12.34333333333333,18.55806451612903,22.13333333333333,25.21935483870968,23.5258064516129,19.82333333333333,12.46774193548387,2.376666666666667,-3.135483870967742]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0.1,1,8.4,6.3,50.6,22.9,181.3,269.3,58.1,23,0,1]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-6.145161290322581,-4.179310344827586,2.280645161290323,13.27,18.60645161290322,23.87666666666667,25.25806451612903,23.70967741935484,20.02333333333333,12.49354838709677,3.996666666666667,-2.874193548387097]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[5.9,0,1.7,29.7,27,52.5,271.2,95.5,66.7,6.9,9.1,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-4.245161290322581,-1.139285714285714,6.074193548387097,14.50666666666667,19.45806451612903,23.72333333333333,24.61290322580645,23.92903225806452,17.92333333333333,11.87741935483871,2.613333333333333,-2.303225806451613]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[2.3,20.9,35,62.2,46.6,127.4,233.6,208.8,111.4,0.9,7.300000000000001,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-7.390322580645162,-1.728571428571429,6.180645161290323,12.31333333333333,18.46451612903226,23.41666666666667,24.85806451612903,24.38709677419355,19.18666666666667,13.37096774193548,4.51,-3.306451612903226]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,1.7,15.1,16.6,58.3,222.8,204.8,241.1,134.7,19.1,2.1,7.5]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.196774193548388,-2.867857142857143,2.945161290322581,12.25,18.14193548387097,22.75666666666667,24.85161290322581,25.85161290322581,19,12.10322580645161,2.346666666666667,-4.067741935483871]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0.6,0,5.2,3.1,28.3,59,248.8,145.2,38.7,40.2,18.6,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-3.609677419354839,-1.582758620689655,4.535483870967742,13.46333333333333,18.90645161290323,22.28666666666667,25.53225806451613,23.71612903225806,18.89333333333333,10.65806451612903,0.97,-2.62258064516129]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[3.4,1.9,0.3,6,6.300000000000001,61.4,180.8,95.40000000000001,46.6,18.6,34.1,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-6.541935483870968,-0.775,5.274193548387097,12.23,19.80322580645161,24.24,24.29354838709677,23.79677419354839,19.25,11.77741935483871,2.046666666666667,-3.948387096774193]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0.2,2.8,0,2.1,62.6,6.8,449.2,343.2,7.6,7.800000000000001,4,6.5]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-4.77741935483871,-1.589285714285714,3.125806451612903,16.02,18.9516129032258,25.65,26.60967741935484,25.45161290322581,18.94333333333334,12.00322580645161,4.493333333333333,-3.458064516129032]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,0.1,3.7,0.6000000000000001,75.3,41.6,181.9,105.1,196.6,17.1,0,1.3]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.109677419354838,-1.146428571428571,5.496774193548387,13.05,18.16774193548387,23.37,25.18387096774194,24.54516129032258,17.93,13.00322580645161,4.396666666666667,-3.077419354838709]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,0,14.2,1.3,16.7,59.9,264.5,376.7,72.90000000000001,39.2,5.7,3.2]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.683870967741935,-3.496551724137931,4.206451612903225,12.56,19.68387096774194,23.73666666666667,24.69032258064516,23.31290322580645,19.45666666666667,11.42258064516129,1.93,-2.574193548387097]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[2.6,0.4,1.7,17.5,84.09999999999999,27.7,186.8,169.8,31.3,22.8,3.4,7.600000000000001]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-6.761290322580646,-1.460714285714286,6.683870967741935,13.77333333333333,19.06451612903226,23.57666666666667,27.7258064516129,25.93870967741935,17.82333333333333,11.77096774193548,4.403333333333333,-3.438709677419355]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[1.3,11.6,7.399999999999999,35.5,56,133.7,242.9,65.09999999999999,24.2,55.4,10.9,2.5]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.974193548387097,0.4642857142857143,6.561290322580645,14.84666666666667,19.31612903225806,23.20333333333333,25.95483870967742,24.35161290322581,21.46666666666667,13.84838709677419,2.513333333333333,-2.287096774193548]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,0,7.4,38.7,29.5,19,126.8,77.7,58.3,14.5,13.9,3.3]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-3.583870967741936,-0.2035714285714286,3.883870967741935,13.61333333333333,18.93225806451613,25.10333333333333,27.38709677419355,24.58709677419355,19.85333333333333,11.42903225806452,4.316666666666666,-2.990322580645161]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[13.1,0,7.3,19.4,67.7,3.2,32.6,135.7,42.9,45.3,9.6,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-8.674193548387096,-3.751724137931034,6.367741935483871,13.37333333333333,19.91935483870968,26.28666666666667,29.09677419354839,24.96129032258064,20.40666666666667,11.58709677419355,1.463333333333333,-2.661290322580645]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[10.9,1,0,17.8,14.2,191.5,165.1,165.2,11.9,53.2,23.9,1.7]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-7.706451612903225,-2.628571428571429,5.364516129032258,13.62333333333333,22.44516129032258,25.36666666666667,26.41290322580645,24.68064516129032,19.82666666666667,12.91935483870968,3.696666666666667,-4.493548387096774]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,0,3.3,21.9,33.8,88,136.5,144.4,57.1,28.8,0,9.799999999999999]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-2.567741935483871,0.9892857142857143,8.351612903225806,13.56,21.41612903225807,23.42,26.69354838709678,25.15161290322581,19.49333333333333,9.338709677419354,1.576666666666667,-4.293548387096775]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[5.1,0,26.5,11.7,41.9,69.7,29.1,123.7,138.9,55.09999999999999,20.2,0.1]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.229032258064517,-0.5571428571428572,5.245161290322581,14.35666666666667,20.61935483870968,23.92333333333333,25.68387096774194,25.7,19.45,11.44516129032258,2.433333333333334,-2.487096774193549]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[1,14,0,18.3,37.1,159.7,163.7,148.9,107.3,14.2,13.4,4.2]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.141935483870967,0.4344827586206897,5.858064516129033,15.71666666666667,19.43548387096774,24.11333333333333,24.8,23.67096774193548,19.13333333333333,11.77741935483871,4.096666666666667,-2.935483870967742]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,7.4,0.2,22.8,108.8,124.8,93.89999999999999,199.1,16.2,1.3,0,0.1]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.935483870967742,-4.7,4.193548387096774,15.01,18.95483870967742,24.11666666666667,26.59032258064516,24.58709677419355,20.29333333333333,12.42903225806452,4.346666666666667,-5.103225806451613]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[1.5,2.6,0,9.199999999999999,63.1,143.1,140.4,177.7,16.7,21.6,2.8,1]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-4.02258064516129,-3,6.17741935483871,12.99,19.63225806451613,24.30666666666666,24.89354838709678,25.2,19.72,14.72258064516129,4.81,-3.738709677419355]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,0,36.5,11.6,47.6,46.1,220.6,54.6,70.8,87,6.199999999999999,3.7]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-4.167741935483871,1.367857142857143,5.180645161290323,13.83333333333333,21.03225806451613,25.55,25.96774193548387,25.53225806451613,20.87,11.64516129032258,3.126666666666666,-2.151612903225806]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,0,14.9,45.6,47.3,95.7,117,217.4,93.2,21.6,0.2,1.9]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.787096774193548,-2.693103448275862,7.04516129032258,14.77333333333333,19.00322580645161,22.90333333333333,26.22903225806452,24.7516129032258,19.73333333333333,12.12258064516129,3.01,-3.838709677419355]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,14.3,7.9,26.7,23.8,78.2,233.5,95,55.3,15.7,14.1,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-5.47741935483871,-0.4357142857142857,5.329032258064516,14.62333333333333,21.44516129032258,24.72,25.9741935483871,24.34193548387097,19.58333333333333,12.24838709677419,0.05333333333333334,-4.674193548387096]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[9.299999999999999,2,28.5,17.3,50.3,54.7,129.5,105.3,68.10000000000001,71.39999999999999,0,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-8.377419354838709,-3.067857142857143,2.393548387096774,9.983333333333333,20.41935483870968,23.96,27.71290322580645,25.14193548387097,19.51666666666667,11.3741935483871,2.986666666666666,-4.109677419354838]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,5.4,0,4.4,21.3,98.7,335.1,43.8,43.1,12.5,15.6,2]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-7.635483870967742,-1.8,5.535483870967742,13.76333333333333,19.80645161290322,25.15333333333333,26.03548387096774,25.49677419354839,18.51666666666667,12.01290322580645,5.026666666666666,-4.074193548387097]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[1,0,16.2,45.8,40.8,107.5,361.3,55,108.9,32.7,77.2,10.2]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-6.754838709677419,-4.496551724137931,3.909677419354839,14.73333333333333,21.03225806451613,23.30666666666666,26.10645161290322,24.66129032258064,18.44333333333334,11.80967741935484,1.99,-7.12258064516129]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[3.6,5.6,6.4,12.5,0.7,185.1,140,155.5,52,28,0,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-7.345161290322581,-3.3,4.190322580645161,10.80666666666667,20.41290322580645,22.53666666666667,26.05483870967742,25.29032258064516,18.77666666666667,11.29354838709677,3.29,-3.041935483870968]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,4.2,1.5,23.6,35.6,131.6,110.4,152.4,81.8,19.9,0.2,0.4]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-3.145161290322581,-1.989285714285714,7.619354838709677,15.88666666666667,20.13225806451613,23.86333333333333,26.76451612903226,24.90967741935484,19.03666666666667,12.0741935483871,3.653333333333333,-4.193548387096774]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0.4,6.9,1.4,43.3,33.7,66,222.2,82.09999999999999,104.2,11.6,46.1,1.8]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-3.47741935483871,-1.032142857142857,6.809677419354839,14.36,20.15161290322581,23.49,25.81935483870968,24.76129032258065,19.04666666666667,11.97096774193548,2.336666666666666,-2.148387096774194]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[1.4,12.8,0,14.7,53.5,97.5,237.1,75.60000000000001,124.3,58.8,18.1,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-7.187096774193549,-1.517241379310345,6.770967741935483,15.41333333333333,19.81612903225806,24.23333333333333,26.55483870967742,25.95161290322581,19.92,11.98064516129032,2.46,-2.006451612903226]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[1.2,3.5,9.699999999999999,0,21.4,74.7,261.9,290.7,5.2,52.5,0,0]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-3.77741935483871,-0.2678571428571428,6.574193548387097,15.70666666666667,21.98709677419355,24.64,26.9741935483871,24.73225806451613,20.36333333333333,11.39032258064516,1.606666666666667,-3.880645161290323]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,0,3.5,67.7,14.6,21.5,405.9,112.5,28.6,6.100000000000001,3,1.5]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-6.264516129032258,-3.857142857142857,6.864516129032258,14.55333333333333,20.82903225806452,25.56,27.10645161290322,26.72258064516129,18.91,10.48709677419355,3.46,-5.480645161290322]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[0,3.8,1.2,48.8,84.7,35.2,114.4,199.7,30.8,33.6,28,8.199999999999999]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[-4.770967741935484,-2.510714285714286,7.325806451612904,13.94666666666667,20.32258064516129,25.11666666666667,26.76129032258065,24.4258064516129,21.37666666666667,11.79677419354839,3.983333333333333,-3.87741935483871]}]},{&#34;series&#34;:[{&#34;name&#34;:&#34;Rainfs&#34;,&#34;type&#34;:&#34;bar&#34;,&#34;data&#34;:[3,22.8,12.1,23.4,69.3,10.9,171.4,175.9,65.40000000000001]},{&#34;name&#34;:&#34;mTEM&#34;,&#34;type&#34;:&#34;line&#34;,&#34;data&#34;:[&#34;-&#34;,-0.7586206896551724,6.980645161290322,13.78333333333333,19.89677419354839,25.84,25.69677419354839,25.48387096774194,19.51333333333333]}]}],&#34;theme&#34;:{&#34;backgroundColor&#34;:[&#34;#d5e4eb&#34;],&#34;grid&#34;:{&#34;borderWidth&#34;:[0]},&#34;categoryAxis&#34;:{&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[2]}},&#34;splitLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[1],&#34;color&#34;:[&#34;white&#34;]}}},&#34;valueAxis&#34;:{&#34;splitLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[1],&#34;color&#34;:[&#34;white&#34;]}},&#34;axisLine&#34;:{&#34;lineStyle&#34;:{&#34;width&#34;:[0]}}},&#34;5&#34;:{&#34;fontSize&#34;:[18]}}},&#34;evals&#34;:[&#34;options.0.yAxis.0.axisLabel.formatter&#34;,&#34;options.0.yAxis.1.axisLabel.formatter&#34;,&#34;options.0.tooltip.formatter&#34;],&#34;jsHooks&#34;:[]}&lt;/script&gt;
</description>
    </item>
    
    <item>
      <title>PCA analysis of reflectance spectra</title>
      <link>/post/pca-analysis-of-reflectance-spectra/</link>
      <pubDate>Thu, 17 Dec 2020 00:00:00 +0000</pubDate>
      <guid>/post/pca-analysis-of-reflectance-spectra/</guid>
      <description>&lt;p&gt;对于光谱这种高维数据，常常需要通过降维发现其内部的规律。&lt;/p&gt;
&lt;p&gt;首先看下原始光谱。从中仅仅能看出不同波段的变异信息，很难挖掘到更多与样品类别相关的特征。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/pca-analysis-of-reflectance-spectra/index_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;于是采用PCA进行降维，观察不同样品的差异。从下面的图中，似乎可以看出样品有成簇分布的可能。但是PCA降维是无法将分类信息展示出来。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/pca-analysis-of-reflectance-spectra/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;于是通过层次聚类，发现类别相关的特征。有意思的结果出来了。似乎能根据光谱特征将样品分为不同类别。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/pca-analysis-of-reflectance-spectra/index_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;从直觉上看，4个类别似乎还是有可能的。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;plot(dend)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/pca-analysis-of-reflectance-spectra/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;采用kmeans进行聚类，发现确实4个类别是比较好的。而且还能生成非常漂亮的聚类PCA。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# Gap statistic plot
fviz_gap_stat(res.km$gap_stat)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/pca-analysis-of-reflectance-spectra/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;fviz_cluster(res.km, geom = &amp;quot;point&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/pca-analysis-of-reflectance-spectra/index_files/figure-html/unnamed-chunk-6-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;至此，光谱降维外加聚类的完整分析流程就结束了。下面就是需要根据样品的生物学特征来做解释了。比如4个类别刚好是质地不同的类型，那么解释起来就更有说服力了。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R packages for Data Science</title>
      <link>/post/2020-12-18-r-packages-for-data-science/</link>
      <pubDate>Wed, 02 Dec 2020 00:00:00 +0000</pubDate>
      <guid>/post/2020-12-18-r-packages-for-data-science/</guid>
      <description>&lt;h3 id=&#34;r-包网站&#34;&gt;R 包网站&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;cowplot&lt;/code&gt;包，用于组合图形和图片&lt;/p&gt;
&lt;p&gt;链接在此：&lt;a href=&#34;https://wilkelab.org/cowplot/articles/introduction.html&#34;&gt;https://wilkelab.org/cowplot/articles/introduction.html&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ggpubr&lt;/code&gt;包，号称可以生成发表级别的图。简单易用，但是灵活性不足。数据探索可以考虑使用&lt;/p&gt;
&lt;p&gt;链接在此：&lt;a href=&#34;https://rpkgs.datanovia.com/ggpubr/index.html&#34;&gt;https://rpkgs.datanovia.com/ggpubr/index.html&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ggstatsplot&lt;/code&gt;包, 画出来的图既漂亮还带有统计参数。棒棒棒！！！
&lt;a href=&#34;https://indrajeetpatil.github.io/ggstatsplot/&#34;&gt;https://indrajeetpatil.github.io/ggstatsplot/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sf&lt;/code&gt;包, 画地图的包，兼容性好。做不规则多边形也很好。当年我用轮廓构建的小麦植株就是用这个包做成的。
&lt;a href=&#34;https://r-spatial.github.io/sf/index.html&#34;&gt;https://r-spatial.github.io/sf/index.html&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ggcor&lt;/code&gt;包，做相关性分析比较强大的包，简化了很多分析的门槛，输出相关性的矩阵也很方便。然而由于某些原因，作者删除了包。&lt;/p&gt;
&lt;p&gt;备份版本可以在gitee上找到：&lt;a href=&#34;https://gitee.com/wellionx/ggcor&#34;&gt;https://gitee.com/wellionx/ggcor&lt;/a&gt;
可以通过devtools安装使用。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;devtools::install_git(&amp;quot;https://gitee.com/wellionx/ggcor.git&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ggvis&lt;/code&gt;包，可以画出很漂亮图形的R包
&lt;a href=&#34;http://ggvis.rstudio.com/&#34;&gt;http://ggvis.rstudio.com/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;endextend&lt;/code&gt;包，一个美化和拓展tree的包
&lt;a href=&#34;http://talgalili.github.io/dendextend/articles/dendextend.html&#34;&gt;http://talgalili.github.io/dendextend/articles/dendextend.html&lt;/a&gt;
做聚类分析，用于可视化的包，fviz_dend()函数在展示大型树的时候，加载过于漫长。于是搜索有没有更好的解决方法。终于找到了&lt;code&gt;dendextend&lt;/code&gt;这个包。而且竟然支持管道操作，真真对这个包一见钟情。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;echarts4r&lt;/code&gt;包，echarts 4的R版本，能画很多交互的图
&lt;a href=&#34;https://echarts4r.john-coene.com/articles/advanced.html&#34;&gt;https://echarts4r.john-coene.com/articles/advanced.html&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;del&gt;&lt;code&gt;recharts&lt;/code&gt;包，echarts 2的R版本, 谢益辉开发。&lt;/del&gt;
&lt;del&gt;&lt;a href=&#34;http://madlogos.github.io/recharts/#-en&#34;&gt;http://madlogos.github.io/recharts/#-en&lt;/a&gt;&lt;/del&gt;
最近准备尝试用之前写过的recharts代码画一些图，才发现这个包可用了。原来谢大神早已弃坑，不再更新recharts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;echarter&lt;/code&gt;包，echarts 4的R版本, 最新开发。作者在开发版本的网页中也介绍了之前几个版本的echarts的R接口,都是挂在GitHub上的&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cosname/recharts - ECharts4&lt;/li&gt;
&lt;li&gt;JohnCoene/echarts4r - ECharts4&lt;/li&gt;
&lt;li&gt;yihui/recharts - ECharts2&lt;/li&gt;
&lt;li&gt;madlogos/recharts - ECharts2 forked from yihui/recharts&lt;/li&gt;
&lt;li&gt;madlogos/recharts2 - ECharts3&lt;/li&gt;
&lt;li&gt;ChanningWong/REcharts3 - ECharts3&lt;/li&gt;
&lt;li&gt;XD-DENG/ECharts2Shiny - ECharts3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;数据科学&#34;&gt;数据科学&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;caret&lt;/code&gt;包的使用说明书，包含了很多数据科学的知识，值得深入研究&lt;/p&gt;
&lt;p&gt;链接：&lt;a href=&#34;https://topepo.github.io/caret/&#34;&gt;https://topepo.github.io/caret/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;关于模型评估的内容：&lt;a href=&#34;https://topepo.github.io/caret/measuring-performance.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Measuring Performance&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;示例：
&lt;a href=&#34;https://www.yinxiang.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;印象笔记官网&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;此外，还发现caret包能做&lt;a href=&#34;https://topepo.github.io/caret/recursive-feature-elimination.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Recursive Feature Elimination&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;统计学习即机器学习
&lt;a href=&#34;https://daviddalpiaz.github.io/r4sl/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;R for Statistical Learning&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;R可视化的网站。介绍了几个主流的R绘图包，并配有例子
&lt;a href=&#34;https://ecodatasci-tlv.github.io/visualizations_in_r/&#34;&gt;https://ecodatasci-tlv.github.io/visualizations_in_r/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;相关性分析可视化，一个比一个漂亮的图
&lt;a href=&#34;https://jamesmarquezportfolio.com/correlation_matrices_in_r.html&#34;&gt;https://jamesmarquezportfolio.com/correlation_matrices_in_r.html&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>
